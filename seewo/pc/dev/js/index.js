$(function(){var a;new Swiper(".top-banner",{pagination:{el:".top-swiper-pagination",clickable:!0,type:"bullets"},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},loop:!0,observer:!0}),new Swiper(".educate-banner",{autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},loop:!0,observer:!0}),new Swiper(".story-banner",{pagination:{el:".story-swiper-pagination",clickable:!0,type:"bullets"},observer:!0}),new Swiper(".celebration-banner",{pagination:{el:".celebration-swiper-pagination",clickable:!0,type:"bullets"},observer:!0}),new Swiper(".technology-banner",{pagination:{el:".technology-swiper-pagination",clickable:!0,type:"bullets"},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},observer:!0});function o(){var e=$(window).scrollTop(),t=[$("#top").offset().top-50,$("#educate").offset().top-50,$("#celebration").offset().top-50,$("#plan").offset().top-50,$("#development").offset().top-50,$("#partner").offset().top-50],a=t.length,o=$(".nav .nav-list");if(e<t[1])o.removeClass("active"),o.eq(0).addClass("active");else for(var n=1;n<a;n++)if(e<t[n+1]&&t[n]<=e){o.removeClass("active"),o.eq(n).addClass("active");break}}$(".play").click(function(){var e=$(this).attr("data-src");$(this).attr("data-id")&&$(".playVideo video").attr("poster",""),$(".playVideo").addClass("playVideo-show"),$(".playVideo video").attr("src",e)}),$(".playVideo").click(function(){$(".playVideo").removeClass("playVideo-show"),$(".playVideo video").attr({src:"#",poster:""})}),$(".plan .banner-btn-block .banner-btn").click(function(){if(!$(this).hasClass("active")){$(".plan .banner-btn-block .banner-btn").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(".plan .banner-img a").hide(),$(".plan .banner-img a:nth-child("+e+")").fadeIn()}}),$("a[href*=#],area[href*=#]").click(function(){if(!$(this).parent().hasClass("active")&&($(window).off("scroll",o),$(".nav .nav-list").removeClass("active"),$(this).parent().addClass("active"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname)){var e=$(this.hash);if((e=e.length&&e||$("[name="+this.hash.slice(1)+"]")).length){var t=e.offset().top;return $("html,body").animate({scrollTop:t},500),setTimeout(function(){$(window).on("scroll",o)},500),!1}}}),o(),$(window).on("scroll",o),$(".popup .title .close").click(function(){clearTimeout(a),$(".mode").fadeOut(300),$(".popup").fadeOut(300),setTimeout(function(){$("#getcode").removeClass("active").html("获取验证码")},300)}),$("#popup-phone").blur(function(){var e=$(this).val();console.log(e),/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(e)?$(".phone .tips").fadeOut():$(".phone .tips").show()}),$("#getcode").click(function(){$(this).addClass("active").html("正在发送..."),n(60,$(this))}),$(".popup .popup-sub").click(function(){$(".popup-book-going").hide(),$(".popup-book-success").show()}),$(".technology-btn .book").click(function(){$(".mode").show(),$(".popup-book-going").show()});var n=function(e,t){a=setTimeout(function(){if(t.html(e+"秒后重新发送"),0==e)return t.html("重新发送"),void t.removeClass("active");n(--e,t)},1e3)}});