$(function(){var t;new Swiper(".top-banner",{pagination:{el:".top-swiper-pagination",clickable:!0,type:"bullets"},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},loop:!0,observer:!0}),new Swiper(".educate-banner",{autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},loop:!0,observer:!0}),new Swiper(".story-banner",{pagination:{el:".story-swiper-pagination",clickable:!0,type:"bullets"},observer:!0}),new Swiper(".celebration-banner",{pagination:{el:".celebration-swiper-pagination",clickable:!0,type:"bullets"},observer:!0}),new Swiper(".technology-banner",{pagination:{el:".technology-swiper-pagination",clickable:!0,type:"bullets"},autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},observer:!0});function o(){var e=$(window).scrollTop(),a=[$("#top").offset().top-50,$("#educate").offset().top-50,$("#celebration").offset().top-50,$("#plan").offset().top-50,$("#development").offset().top-50,$("#partner").offset().top-50],t=a.length,o=$(".nav .nav-list");if(e<a[1])o.removeClass("active"),o.eq(0).addClass("active");else for(var i=1;i<t;i++)if(e<a[i+1]&&a[i]<=e){o.removeClass("active"),o.eq(i).addClass("active");break}}$(".play").click(function(){var e=$(this).attr("data-src");$(this).attr("data-id")&&$(".playVideo video").attr("poster",""),$(".playVideo").addClass("playVideo-show"),$(".playVideo video").attr("src",e)}),$(".playVideo").click(function(){$(".playVideo").removeClass("playVideo-show"),$(".playVideo video").attr({src:"#",poster:""})}),$(".story-banner .swiper-wrapper .swiper-slide-box").hover(function(){if(!$(this).hasClass("active")){var e=$(".story-banner .swiper-wrapper .swiper-slide-box"),a=$(".story-banner .swiper-wrapper .box-content"),t=e.index(this);e.removeClass("active"),a.removeClass("active"),$(this).addClass("active"),a.eq(t).addClass("active")}}),$(".plan .banner-btn-block .banner-btn").click(function(){if(!$(this).hasClass("active")){$(".plan .banner-btn-block .banner-btn").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(".plan .banner-img a").hide(),$(".plan .banner-img a:nth-child("+e+")").show()}}),$("a[href*=#],area[href*=#]").click(function(){if(!$(this).parent().hasClass("active")&&($(window).off("scroll",o),$(".nav .nav-list").removeClass("active"),$(this).parent().addClass("active"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname)){var e=$(this.hash);if((e=e.length&&e||$("[name="+this.hash.slice(1)+"]")).length){var a=e.offset().top;return $("html,body").animate({scrollTop:a},500),setTimeout(function(){$(window).on("scroll",o)},500),!1}}}),o(),$(window).on("scroll",o),$(".popup .title .close").click(function(){clearTimeout(t),$(".mode").fadeOut(300),$(".popup").fadeOut(300),setTimeout(function(){$("#getcode").removeClass("active").html("获取验证码")},300)}),$("#popup-phone").blur(function(){var e=$(this).val();console.log(e),/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(e)?$(".phone .tips").fadeOut():$(".phone .tips").show()}),$("#getcode").click(function(){$(this).addClass("active").html("正在发送..."),i(60,$(this))}),$(".popup .popup-sub").click(function(){$(".popup-book-going").hide(),$(".popup-book-success").show()}),$(".technology-btn .book").click(function(){$(".mode").show(),$(".popup-book-going").show()});var i=function(e,a){t=setTimeout(function(){if(a.html(e+"秒后重新发送"),0==e)return a.html("重新发送"),void a.removeClass("active");i(--e,a)},1e3)}});